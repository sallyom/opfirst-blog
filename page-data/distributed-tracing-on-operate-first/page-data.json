{
    "componentChunkName": "component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx",
    "path": "/distributed-tracing-on-operate-first",
    "result": {"data":{"post":{"slug":"/distributed-tracing-on-operate-first","title":"Distributed Tracing on Operate-First!","date":"06.07.2022","tags":[{"name":"Distributed Tracing","slug":"distributed-tracing"},{"name":"Red Hat Distributed Tracing Platform","slug":"red-hat-distributed-tracing-platform"},{"name":"Red Hat Distributed Tracing Data Collection","slug":"red-hat-distributed-tracing-data-collection"},{"name":"Jaeger","slug":"jaeger"},{"name":"OpenTelemetry","slug":"open-telemetry"}],"description":"A guide on how to collect traces from your instrumented application on Operate-First.","canonicalUrl":null,"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Distributed Tracing on Operate-First!\",\n  \"date\": \"2022-07-06T00:00:00.000Z\",\n  \"author\": \"Sally Ann O'Malley\",\n  \"description\": \"A guide on how to collect traces from your instrumented application on Operate-First.\",\n  \"tags\": [\"Distributed Tracing\", \"Red Hat Distributed Tracing Platform\", \"Red Hat Distributed Tracing Data Collection\", \"Jaeger\", \"OpenTelemetry\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Over the past few years, the [OpenTelemetry[(\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://opentelemetry.io/\"\n  }, \"https://opentelemetry.io/\"), \") project has advanced cloud-native observability. It is a\\ncollection of tools, APIs, and SDKs to instrument, generate, collect, and export telemetry data (metrics, logs, and traces). With\\nOpenTelemetry (OTLP), end-users and developers are empowered to choose a telemetry backend that suits their needs. It is vendor neutral,\\nopen source, and is supported by industry leaders in the observability space. Perhaps you've been planning to add OTLP\\ninstrumentation to your applications. That is the easy part of the observability pipeline. The more interesting question is how\\nto collect and visualize the generated data. This post describes how recent additions to the Operate-First cloud has made it easy\\nfor users to collect and analyze OTLP.\"), mdx(\"p\", null, \"Operate-First hosts a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.operate-first.cloud/community-cloud/\"\n  }, \"community cloud\"), \".\\nTo learn more about the cloud and how you can access it, visit the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.operate-first.cloud/getting-started\"\n  }, \"onboarding docs\"), \".\\nIf, like me, you're a developer wishing to deploy your applications and perform testing in a production environment,\\nyou might start \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://www.operate-first.cloud/developer\"\n  }, \"here\"), \". From there you can request an OpenShift project workspace to use\\nas a testing ground for Kubernetes based cloud-native workloads.\"), mdx(\"p\", null, \"Recently, two operators were deployed on the Operate-First Smaug cluster that together enable collection of OTLP data from\\nany application. The operators are \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Red Hat Distributed Tracing Platform\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"RedHat Distributed Tracing Data Collection\"), \".\\nThe former includes a Jaeger operator for visualizing OTLP data and the latter includes the OpenTelemetry operator that\\nmanages namespaced OpenTelemetryCollectors to collect OTLP. These and many other Kubernetes operators are available from the\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://catalog.redhat.com/software/operators/explore\"\n  }, \"Certified OpenShift Operators Hub\"), \". This post describes how to connect your\\napplications and workloads to these distributed tracing operators to reach your observability goals.\"), mdx(\"h3\", null, \"Table of Contents\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#introduction\"\n  }, \"Introduction\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#red-hat-distributed-tracing-data-collection\"\n  }, \"Red Hat Distributed Tracing Data Collection\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#red-hat-distributed-tracing-platform\"\n  }, \"Red Hat Distributed Tracing Platform\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#example-application\"\n  }, \"Example Application\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#connecting-an-application-to-opentelemetry-collector\"\n  }, \"Connecting an Application to OpenTelemetry Collector\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#connecting-an-application-to-jaeger\"\n  }, \"Connecting an Application to Jaeger\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"#visualizing-your-data\"\n  }, \"Visualizing Your Data\"))), mdx(\"h3\", null, \"Introduction\"), mdx(\"p\", null, \"Let\\u2019s start with stating what this blog is \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"not\"), \". This post does not demonstrate how to instrument your applications to export OTLP.\\nThis post assumes you have an application that is already instrumented. However, the example application used in this post can be found\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/sallyom/golang-ex.git\"\n  }, \"here\"), \". There are many online resources to help you along your way in\\nthis regard. Start with the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://opentelemetry.io/docs/instrumentation/\"\n  }, \"instrumentation docs\"), \" for language-specific guides. With\\nonly a few lines of code, your application will be exporting telemetry. The interesting part is the collection and analysis of that\\ndata. In fact, that is a core mission of the OpenTelemetry project: to make instrumenting easy and universal, to uncouple\\ninstrumentation from data storage and analysis.\"), mdx(\"h3\", null, \"Red Hat Distributed Tracing Data Collection\"), mdx(\"p\", null, \"The Red Hat Distributed Tracing Data Collection operator is an opinionated OpenTelemetry Collector Operator. This operator watches all\\nnamespaces in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Smaug cluster\"), \". Its operands are the namespaced custom resources \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"OpenTelemetryCollector\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Instrumentation\"), \".\"), mdx(\"p\", null, \"The presence of an OpenTelemetryCollector in a namespace (project) triggers the creation of several resources in that namespace\\nincluding a deployment of the OpenTelemetry Collector. In simple terms, all that is required to launch an OTLP collector in your\\nnamespace is the creation of an OpenTelemetryCollector. This custom resource configures OTLP receivers and exporters. In this example\\na jaeger and logging exporter are configured. There are different modes that can be configured, also. This example uses the deployment\\nmode. For other modes consult the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/open-telemetry/opentelemetry-operator#deployment-modes\"\n  }, \"OpenTelemetry Collector documentation\"), \".\\nAn OTLP collector is an intermediary that allows OTLP data to be funnelled to a variety of backends. Traces, logs, and metrics can be\\nexported from an application with a single OTLP collector.\"), mdx(\"p\", null, \"The presence of an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Instrumentation\"), \" custom resource triggers the automatic instrumentation of an application. This is available for a\\nlimited list of languages. At this time Python, Java, and Ruby offer auto-instrumentation. For more information, visit the\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://opentelemetry.io/docs/instrumentation/java/automatic/\"\n  }, \"automatic instrumentation docs\"), \".\"), mdx(\"p\", null, \"Visit the Red Hat Distributed Tracing Data Collection \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://catalog.redhat.com/software/operators/detail/615486a469cb9f1af5ba7421\"\n  }, \"documentation\"), \" and the OpenTelemetry Operator project on \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/open-telemetry/opentelemetry-operator\"\n  }, \"GitHub\"), \" for\\nadditional details and examples.\"), mdx(\"h3\", null, \"Red Hat Distributed Tracing Platform\"), mdx(\"p\", null, \"The Red Hat Distributed Tracing Platform is an opinionated Jaeger Operator. This operator watches all namespaces in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Smaug cluster\"), \".\\nIt's operand is the namespaced custom resource \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Jaeger\"), \". The presence of a Jaeger in a project triggers the creation of several\\nresources including a deployment of Jaeger along with a route to the Jaeger frontend. The example below creates an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AllInOne\"), \" instance\\nof Jaeger that uses in-memory storage. For production modes, visit the Red Hat Distributed Tracing Platform\\n\", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://catalog.redhat.com/software/operators/detail/5ec54a5c78e79e6a879fa271\"\n  }, \"documentation\"), \".\"), mdx(\"h3\", null, \"Example Application\"), mdx(\"p\", null, \"For this blog, an \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/sallyom/golang-ex/tree/master/opentelemetry-sample-app\"\n  }, \"example golang application\"), \" is deployed\\nin the Smaug cluster \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"otel-dev\"), \" project. The application includes a simple web server, a service that exposes port 8080 of the web\\nserver pod, and a route that exposes the service. View the single yaml file \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://raw.githubusercontent.com/sallyom/golang-ex/master/opentelemetry-sample-app/sample-app.yaml\"\n  }, \"here\"), \". To deploy this application in your own cluster, first create an \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"otel-dev\"), \" namespace\\nand then apply the sample-app yaml file. Smaug cluster is an OpenShift cluster, so here we use the command-line tool \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"oc\"), \". However,\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"kubectl\"), \" can be substituted and used with any Kubernetes based cluster.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"oc new-project otel-dev\\noc apply -f opentelemetry-sample-app/sample-app.yaml\\n\")), mdx(\"p\", null, \"Two files are served by this application. A \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://sample-app-otel-dev.apps.smaug.na.operate-first.cloud/hello\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"a\"\n  }, \"Hello OpenShift\")), \"\\npage and a \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://sample-app-otel-dev.apps.smaug.na.operate-first.cloud/count\"\n  }, \"counter\"), \". Visiting the pages creates trace spans that\\ncan be collected with the OpenTelemetry Collector and visualized with Jaeger. \"), mdx(\"h3\", null, \"Connecting an Application with OpenTelemetry Collector\"), mdx(\"p\", null, \"Because the Smaug cluster is running the OpenTelemetry Operator, it is very easy to launch an opentelemetry collector in any namespace.\\nThis is the OpenTelemetryCollector custom resource that was created in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"otel-dev\"), \" project, alongside the example application.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"578px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"150%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsTAAALEwEAmpwYAAABg0lEQVRIx62V2ZKDIBBFcd93/f9PZeowdRMqcTJEfOgYFI/30nRj5nm2fd+7mKbJZllmjTHXYxxHC7RtW1uWpU2SJA6Y57kDAh6GwVZV5eBN07gPMK7r2l27rrNFUbj7xJ9AYEwGiPV1XR0EtX6wHP74FMiXgQDg61KkFwQKtowq7BGAGcu+1hX1aZqGAbG377sVGIUoYimIS0lBEWoIgFiP2jYE1rCFusi9aNwasX6XLJ4BUSTbUXYFFHRZlnuAqgJqObr0+EEVwOjG4CtU7d4CJLva4KgFHpHxZ1JU/FyDS+0MyMvbtrmkoExtS1eFaltjv5m8KQQkq4ISvKTwx8zxn3kV9qtQE/RAQMH9xvp634c6IJLVrW/JMonALllWc0XBxcQ8BzoGgKvJfg3UemGXTFPPjMkoUHXy4JLkZSBSBCCqnlFIlQjqZesRX32AyZzLgmJPXVznMfb5rzPnY80DpEKYrA2rQ+rytmHtjuN4nC3A/lXyCYgdQnbVbF9qNCh+ALfwa/DJsAGdAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"OpenTelemetryCollector\",\n    \"title\": \"OpenTelemetryCollector\",\n    \"src\": \"/blog/static/bf20a6afd5726cb68c098dc719bf6072/56022/otelcol.png\",\n    \"srcSet\": [\"/blog/static/bf20a6afd5726cb68c098dc719bf6072/5243c/otelcol.png 240w\", \"/blog/static/bf20a6afd5726cb68c098dc719bf6072/ab158/otelcol.png 480w\", \"/blog/static/bf20a6afd5726cb68c098dc719bf6072/56022/otelcol.png 578w\"],\n    \"sizes\": \"(max-width: 578px) 100vw, 578px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\",\n    \"decoding\": \"async\"\n  }), \"\\n    \")), mdx(\"h3\", null, \"Connecting an Application to Jaeger\"), mdx(\"h3\", null, \"Visualizing Your Data\"));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"Over the past few years, the [OpenTelemetry[( https://opentelemetry.io/ ) project has advanced cloud-native observability. It is aâ€¦","timeToRead":3,"banner":null}},"pageContext":{"slug":"/distributed-tracing-on-operate-first","formatString":"DD.MM.YYYY"}},
    "staticQueryHashes": ["2744905544","3090400250","318001574"]}